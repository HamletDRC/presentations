window.xn=window.xn||{};xn.track=xn.track||{};(function(xn_track){var _window=window,_document=document,_encodeURIComponent=encodeURIComponent,_decodeURIComponent=decodeURIComponent,_navigator=navigator,_navigator_appVersion=_navigator.appVersion,_navigator_userAgent=_navigator.userAgent,_navigator_plugins=_navigator.plugins,_navigator_platform=_navigator.platform,_navigator_vendor=_navigator.vendor;var cookieSetter=function(name,timeoutInSeconds){var finder=new RegExp("(?:^|; )"+name+"=([^;]+)");return(function(){var hash=undefined;var result={getValue:function(){var match=_document.cookie.match(finder);return match?_decodeURIComponent(match[1]):"";},setValue:function(value){var cookie=name+"="+_encodeURIComponent(_encodeURIComponent(value))+";Path=/;Domain="+_window.location.host;if(timeoutInSeconds!=-1){cookie+=";Expires="+new Date(new Date().getTime()+1000*(timeoutInSeconds||1800)).toGMTString();}_document.cookie=cookie;},getHash:function(){if(typeof hash=="undefined"){try{var value=_decodeURIComponent(result.getValue());hash={};if(value){var parts=value.split(",");for(var i=0;i<parts.length-1;i+=2){hash[_decodeURIComponent(parts[i])]=_decodeURIComponent(parts[i+1]);}}}catch(e){result.clear();hash={};}}return hash;},setHashValue:function(key,value){if(typeof hash=="undefined"){result.getHash();}if((key in hash)&&(typeof value=="undefined")){delete (hash[key]);}else{hash[key]=value;}value="";for(var k in hash){value+=(value?",":"")+_encodeURIComponent(k)+","+_encodeURIComponent(hash[k]);}result.setValue(value);},clear:function(){result.setValue("");}};return result;})();};var xn_track_cookie=cookieSetter("xn_track");var path=((String)(_window.location)).match(/:\/\/[^/]+([^?]+)/)[1];var trackHash=xn_track_cookie.getHash();var reloadCount=trackHash.rp==path?1+(parseInt(trackHash.rc)||0):0;xn_track_cookie.setHashValue("rp",path);xn_track_cookie.setHashValue("rc",reloadCount);var getSessionCookie=function(){var cookie=cookieSetter("xn_track");var si=cookie.getHash().si;var se=cookie.getHash().se;var now=Math.round((new Date().getTime())/1000);if(typeof si==="undefined"||typeof se==="undefined"||now>se){cookie.setHashValue("si",now);cookie.setHashValue("se",now+900);}return cookie.getHash().si;};function getFlashVersion(){var flashVer=-1;if(_navigator_plugins!=null&&_navigator_plugins.length>0){if(_navigator_plugins["Shockwave Flash 2.0"]||_navigator_plugins["Shockwave Flash"]){var swVer2=_navigator_plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=_navigator_plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var versionRevision=descArray[3];if(versionRevision==""){versionRevision=descArray[4];}if(versionRevision[0]=="d"){versionRevision=versionRevision.substring(1);}else{if(versionRevision[0]=="r"){versionRevision=versionRevision.substring(1);if(versionRevision.indexOf("d")>0){versionRevision=versionRevision.substring(0,versionRevision.indexOf("d"));}}}flashVer=versionMajor+"."+versionMinor+"."+versionRevision;}}else{if(_navigator_userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){flashVer=4;}else{if(_navigator_userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){flashVer=3;}else{if(_navigator_userAgent.toLowerCase().indexOf("webtv")!=-1){flashVer=2;}else{if((_navigator_appVersion.indexOf("MSIE")!=-1)&&(_navigator_appVersion.toLowerCase().indexOf("win")!=-1)&&(_navigator_userAgent.indexOf("Opera")==-1)){var test=[{version:".7"},{version:".6",defaultVersion:"WIN 6,0,21,0",setAllow:true},{version:".3"},{version:".3",defaultVersion:"WIN 3,0,18,0"},{version:"",defaultVersion:"WIN 2,0,0,11"}];for(var i=0;i<test.length&&!flashVer;++i){try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"+test[i].version);flashVer=test[i].defaultVersion;if(test[i].setAllow){axo.AllowScriptAccess="always";}flashVer=axo.GetVariable("$version");}catch(e){}}}}}}}return flashVer;}var versionSearchString="";var searchString=function(data){for(var i=0;i<data.length;i++){var dataString=data[i].s;versionSearchString=data[i].v||data[i].i;if(dataString){if(dataString.indexOf(data[i].r)!=-1){return data[i].i;}}else{if(_window.opera){return"Opera";}}}return undefined;};var searchVersion=function(dataString){var index=dataString.indexOf(versionSearchString);if(index==-1){return undefined;}return parseFloat(dataString.substring(index+versionSearchString.length+1));};var _eventTypes={BasicFlows:{date:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",screen_name:"s",is_owner:"b",is_admin:"b",is_member:"b",join_date:8,request_method:"s",trace:"s",error_cause:"s",error_loop_count:2,step:"s",url:"s",referrer:"s",reload_count:2,server_page_load_time_deprecated:2,campaign:"s",server_page_load_time:4},BazelEmailError:{date:8,application:"s",sender:"s",recipient:"s",subject:"s",screen_name:"s",message_type:"s",error_text:"s"},EmailVerification:{date:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",screen_name:"s",request_method:"s",trace:"s",error_cause:"s",error_loop_count:2,step:"s",referrer:"s",reload_count:2,server_page_load_time_deprecated:2,campaign:"s",server_page_load_time:4},GYO:{date:8,cookie:"s",host:"s",ip:4,path:"s",screen_name:"s",subdomain:"s",user_agent:"s",error_cause:"s",error_loop_count:2,is_admin:"b",is_member:"b",is_owner:"b",join_date:8,request_method:"s",step:"s",trace:"s",referrer:"s",reload_count:2,server_page_load_time_deprecated:2,campaign:"s",server_page_load_time:4},Homepage:{date:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",error_cause:"s",error_loop_count:2,is_admin:"b",is_member:"b",is_owner:"b",join_date:8,request_method:"s",screen_name:"s",step:"s",trace:"s",url:"s",referrer:"s",reload_count:2,server_page_load_time_deprecated:2,campaign:"s",server_page_load_time:4},InvitationEvent:{date:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",screen_name:"s",is_owner:"b",is_admin:"b",is_member:"b",join_date:8,request_method:"s",trace:"s",error_cause:"s",error_loop_count:2,flow_type:"s",flow_loop_count:2,step:"s",invite_type:"s",referrer:"s",reload_count:2,server_page_load_time_deprecated:2,email_count:2,campaign:"s",server_page_load_time:4,num_sent:4,num_sent_contacts:4,num_sent_friends:4},NingApps:{date:8,app_status:"s",app_url:"s",cookie:"s",host:"s",ip:4,is_admin:"b",is_member:"b",is_owner:"b",join_date:8,path:"s",request_method:"s",screen_name:"s",server_page_load_time_deprecated:2,subdomain:"s",trace:"s",user_agent:"s",app_action:"s",server_page_load_time:4},PageView:{date:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",screen_name:"s",section:"s",is_owner:"b",is_admin:"b",is_member:"b",join_date:8,referrer:"s",reload_count:2,client_page_load_time_deprecated:2,server_page_load_time_deprecated:2,campaign:"s",label_1:"s",track_id:8,label_2:"s",client_page_load_time:4,server_page_load_time:4,session_id:8},BazelPerf:{date:8,application:"s",screen_name:"s",request_method:"s",url:"s",api_count:2,api_time:4,api_bytes_received:4,total_time:4,useful_time:4,mem_used:4,api_calls:"s",bazel_route_uri:"s",layout_mozzle_count_cached:2,layout_mozzle_count_rendered:2,layout_mozzle_count_total:2,layout_ningapps_count:2,layout_profileapps_count:2,layout_type:"s"},BazelCSPerfLite:{date:8,application:"s",host:"s",ip:4,user_agent:"s",screen_name:"s",url:"s",html_time:4,css_time:4,render_time:4,js_time:4,nlr_time:4,nlr_eval_time:4,image_tag_count:4,embed_tag_count:4,object_tag_count:4,layout_mozzle_count_cached:4,layout_mozzle_count_rendered:4,layout_mozzle_count_total:4,layout_ningapps_count:4,layout_profileapps_count:4,layout_type:"s"},BazelCSPerf:{application:"s",host:"s",ip:4,user_agent:"s",screen_name:"s",url:"s",click_time:4,server_start:8,server_time:4,redirects:4,server_end:8,html_begin:4,css_before:4,css_after:4,js_before:4,js_start:4,js_end:4,js_after:4,html_end:4,html_ready:4,nlr_sent:4,nlr_received:4,nlr_eval:4,nlr_init:4,nlr_exception:4,date:8,ad_after:4,ad_before:4},BazelContentUpload:{date:8,application:"s",ip:4,user_agent:"s",screen_name:"s",content_id:"s",content_url:"s",mime_type:"s",file_name:"s",file_size:4,image_width:4,image_height:4,contents_hash:"s",hash:"s"},ExtensionEvent:{date:8,app_id:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",screen_name:"s",referrer:"s",reload_count:2,extension:"s",action:"s"},EngagementContextEvent:{date:8,app_id:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",screen_name:"s",referrer:"s",reload_count:2,engagement_type:"s",engagement_context:"s",content_type:"s"},ChatEvent:{date:8,app_id:8,host:"s",path:"s",user_agent:"s",ip:4,cookie:"s",subdomain:"s",screen_name:"s",referrer:"s",reload_count:2,type:"s"}};var _serializeForThrift=function(type,value){if(typeof value=="string"&&value.indexOf("__")==0){return"x"+value.substring(2);}if(!value){value=type=="s"?"":0;}if(type=="b"){value=value?1:0;}return(""+type)+value;};var _defaults={browser:searchString([{s:_navigator_userAgent,r:"Chrome",i:"Chrome"},{s:_navigator_userAgent,r:"OmniWeb",v:"OmniWeb/",i:"OmniWeb"},{s:_navigator_vendor,r:"Apple",v:"Version",i:"Safari"},{s:_navigator_vendor,r:"iCab",i:"iCab"},{s:_navigator_vendor,r:"KDE",i:"Konqueror"},{s:_navigator_userAgent,r:"Firefox",i:"Firefox"},{s:_navigator_vendor,r:"Camino",i:"Camino"},{s:_navigator_userAgent,r:"Netscape",i:"Netscape"},{s:_navigator_userAgent,r:"MSIE",i:"Explorer",v:"MSIE"},{s:_navigator_userAgent,r:"Gecko",i:"Mozilla",v:"rv"},{s:_navigator_userAgent,r:"Mozilla",i:"Netscape",v:"Mozilla"}])||"unknown",browser_version:searchVersion(_navigator_userAgent)||searchVersion(_navigator_appVersion)||"n/a",os:searchString([{s:_navigator_platform,r:"Win",i:"Windows"},{s:_navigator_platform,r:"Mac",i:"Mac"},{s:_navigator_userAgent,r:"iPhone",i:"iPhone"},{s:_navigator_platform,r:"Linux",i:"Linux"}])||"unknown",flash:getFlashVersion(),screen_width:screen.width,screen_height:screen.height,view_width:_window.innerWidth||(_document.documentElement||_document.getElementsByTagName("body")[0]).clientWidth,view_height:_window.innerHeight||(_document.documentElement||_document.getElementsByTagName("body")[0]).clientHeight,date:"__date",host:"__host",path:"__path",user_agent:"__ua",ip:"__ip",cookie:cookieSetter("xn_visitor").getValue(),referrer:_document.referrer||"",reload_count:reloadCount||0,session_id:getSessionCookie()};xn_track._globals=xn_track._globals||{};xn_track.debug=function(s){if(xn_track._jsDebug&&_window.console){console.log(s);}};xn_track.defaults=function(){var result={set:function(hash){for(var key in hash){result[key]=hash[key];}return result;}};for(var key in _defaults){result[key]=_defaults[key];}for(var key in xn_track._globals){result[key]=xn_track._globals[key];}return result;};xn_track.timer=function(){var start=new Date().getTime();var lapStart=start;return{startTime:function(){return start;},lapTime:function(){var now=new Date().getTime();var lapTime=now-lapStart;lapStart=now;return lapTime;},elapsed:function(){return new Date().getTime()-start;},now:function(){return new Date().getTime();}};};xn_track.pageTimer=xn_track.timer();xn_track.event=function(type,args,callback){try{if(!(type in _eventTypes)){throw ("Unknown event type: ["+type+"]");}var params=xn_track.defaults().set(args||{});xn_track.debug(params);var t=new Date().getTime();var src=("protocol" in _window.location?_window.location.protocol+"//":"http://")+xn_track._trackingHost+"/1?v=";var thriftPayload=_encodeURIComponent(type);var schema=_eventTypes[type]||{};for(var key in schema){thriftPayload+=","+_encodeURIComponent(_serializeForThrift(schema[key],params[key]));}var i=new Image();if(typeof(callback)!=="undefined"){x$(i).error(function(){callback();});}i.src=src+_encodeURIComponent(thriftPayload)+"&__bust="+(t>>>10);}catch(e){xn_track.debug(e);}};xn_track.pageView=function(trackId,label1,label2,optionalOverrides,callback){if(trackId){optionalOverrides=optionalOverrides||{};optionalOverrides.track_id=trackId;optionalOverrides.label_1=label1||"";optionalOverrides.label_2=label2||"";xn_track.event("PageView",optionalOverrides,callback);}else{xn_track.debug("Missing track id");}};xn_track.registerCompletedFlow=function(flowType){var hash=xn_track_cookie.getHash();if(("ft" in hash)&&(hash.ft==flowType)){var newCount=parseInt(hash.fc)+1;xn_track_cookie.setHashValue("fc",newCount);return newCount;}else{xn_track_cookie.setHashValue("ft",flowType);xn_track_cookie.setHashValue("fc",0);return 0;}};xn_track.registerError=function(errorCause){var hash=xn_track_cookie.getHash();if(("et" in hash)&&(hash.et==errorCause)){var newCount=parseInt(hash.ec)+1;xn_track_cookie.setHashValue("ec",newCount);return newCount;}else{xn_track_cookie.setHashValue("et",errorCause);xn_track_cookie.setHashValue("ec",0);return 0;}};})(xn.track);

